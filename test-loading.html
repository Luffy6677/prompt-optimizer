<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LoadingAnimation Test</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        const LoadingAnimation = () => {
          const [currentStep, setCurrentStep] = useState(0);
          const [progress, setProgress] = useState(0);

          const steps = [
            'Analyzing language structure...',
            'Identifying optimization points...',
            'Generating improvement suggestions...'
          ];

          useEffect(() => {
            // 模拟步骤进度
            const stepInterval = setInterval(() => {
              setCurrentStep((prev) => {
                if (prev < steps.length - 1) {
                  return prev + 1;
                }
                return 0; // 循环回到第一步
              });
            }, 2000); // 每2秒切换一步

            // 模拟进度条
            const progressInterval = setInterval(() => {
              setProgress((prev) => {
                if (prev < 95) {
                  return prev + Math.random() * 10; // 随机增加进度
                }
                return 95; // 最多到95%，避免到100%
              });
            }, 500);

            return () => {
              clearInterval(stepInterval);
              clearInterval(progressInterval);
            };
          }, [steps.length]);

          return React.createElement('div', { className: "bg-white rounded-xl shadow-sm border border-gray-200 p-8" },
            React.createElement('div', { className: "text-center" },
              React.createElement('div', { className: "w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6" },
                React.createElement('span', { className: "text-white text-2xl" }, '🧠')
              ),
              React.createElement('h3', { className: "text-xl font-semibold text-gray-900 mb-2" }, "AI is analyzing your prompt"),
              React.createElement('div', { className: "space-y-2 mb-4" },
                steps.map((text, index) =>
                  React.createElement('div', {
                    key: index,
                    className: `text-sm ${currentStep === index ? 'text-blue-600 font-medium' : 'text-gray-500'}`
                  },
                    React.createElement('div', { className: "flex items-center justify-center space-x-2" },
                      currentStep === index && React.createElement('span', null, '✨'),
                      React.createElement('span', null, text)
                    )
                  )
                )
              ),
              React.createElement('div', { className: "w-full bg-gray-200 rounded-full h-2 mb-4" },
                React.createElement('div', {
                  className: "bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-500",
                  style: { width: `${Math.min(progress, 95)}%` }
                })
              ),
              React.createElement('div', { className: "flex items-center justify-center space-x-2 text-sm text-gray-500" },
                React.createElement('span', null, '⏰'),
                React.createElement('span', null, 'Estimated time: 10-15 seconds')
              ),
              React.createElement('div', { className: "mt-4 text-xs text-gray-400" }, "Please wait while AI processes your request...")
            )
          );
        };
        
        const App = () => {
          return React.createElement('div', { className: "min-h-screen bg-gray-100 p-8" },
            React.createElement('h1', { className: "text-2xl font-bold mb-6" }, "LoadingAnimation Test"),
            React.createElement(LoadingAnimation)
          );
        };
        
        ReactDOM.render(React.createElement(App), document.getElementById('root'));
    </script>
</body>
</html> 